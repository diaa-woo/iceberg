[상위 문서로 이동](../README.md)

# 정규 표현식

**正規表現式 / Regular Expression**

프로그래밍에서 문자열을 다룰 때, 문자열의 일정한 패턴을 표현하는 일종의 형식 언어를 말한다. 정규식이라고도 부르며, 보통 `RegEx` & `RegExp`라 쓴다.

## 설명

프로그램을 작성할 때는 특성상 일정한 규칙을 가진 텍스트 문자열을 사용하는 경우가 많은데, 이럴 때 정규 표현식을 사용한다. 특히 *컴파일러의 파서*, *유닉스 계열의 CLI 환경*, *위키백과의 문서 엔진 위키위키* 등 **텍스트 가공을 해야할 일이 있는 사람이라면 거진 필수적으로 알아야 할 지식이다.** 정규표현식을 아느냐 모르느냐에 따라 컴퓨터를 바라보는 시각과 활용도가 현격하게 차이나는 정도.

정규 표현식은 사용되는 언어마다 문법이 조금씩 다를 수도 있다. 정규표현식을 구현한 엔진들끼리도 조금씩 다른 경우가 있으므로 자신이 익숙한 환경이 아니라면 미리 확인해 보는 것이 중요하다. 크게 나누면 표준으로 인정된 *POSIX의 정규 표현식*과 그것에서 문법을 매우 확장한 *Perl 방식의 PCRE*이 둘로 나뉘어지며, POSIX 표준의 경우 다시 Basic과 Extended로 나뉜다. 이외에도 Emacs와 Vim 모두 자체적인 정규표현식을 지원한다.   
문제는, 이 정규표현식들이 완전히 다르면 몰라도, 비슷하면서도 살짝살짝다르기 때문에 그 차이들을 다 외우고 있을 수도 없는 노릇이며, 정규표현식 자체가 다량의 텍스트를 다루는 명령이니만큼 작은 실수가 커다란 차이를 불러올 수 있다는 것이다. 즉, 쉘에서 쓰기 작업에 정규표현식을 동반할 경우 매우 주의를 요할 필요가 있다.

## 표현

정규 포현식에서 사용되는 기호를 **Meta문자**라고 표현한다. 표현식에서 내부적으로 특정 의미를 가지는 문자를 말하며, 간단하게 정리하면 아래의 리스트와 같다.

- `^x` : 문자열의 시작을 표현하며, x 문자로 시작됨을 알린다.
- `x$` : 문자열의 종료를 표현하며, x 문자로 종료됨을 알린다.
- `.x` : 임의의 한 문자의 자리수를 표현하며 문자열이 x로 끝난다는 것을 의미한다.
- `x+` : 반복을 표현하며 x 문자가 한 번 이상 반복됨을 의미한다.
- `x?` 존재여부를 표현하며 x 문자가 존재할 수도, 존재하지 않을 수도 있음을 의미한다.
- `x*` : 반복여부를 표현하며 x 문자가 0번 또는 그 이상 반복됨을 의미한다.
- `x|y` : or을 표현하며 x 또는 y 문자가 존재함을 의미한다.
- `(x)` : 그룹을 표현하며 x를 그룹으로 처리함을 의미한다.
- `(x)(y)` : 그룹들의 집합을 표현하며 앞에서부터 순서대로 번호를 부여하여 관리하고 x,y는 각 그룹의 데이터로 관리된다.
- `(x)(?:y)` : 그룹들의 집합에 대한 예외를 표현하며 그룹 집합으로 관리되지 않음을 의미한다. 
- `x{n}` : 반복을 표현하며 x 문자가 n번 반복됨을 의미한다.
- `x{n,}` : 반복을 표현하며 x 문자가 n번 이상 반복됨을 의미한다.
- `x{n,m}` : 반복을 표현하며 x 문자가 최소 n번 이상 최대 m번 이하로 반복됨을 의미한다.

Meta 문자들 중에서 좀 더 특수하게 사용되는 문자들이 존재한다. *'[]'*는 내부에서 지정된 문자열의 범위 중에서 한 문자만을 선택한다는 특수한 의미를 가진다. 그리고 내부에서 Meta문자를 사용하면 다른 의미를 가지고 동작할 수 있으므로 잘 확인하고 사용해야 한다. 좀 더 특별한 용도로 사용되는 것들은 아래의 리스트와 같다.

- `[xy]` : 문자 선택을 표현하며 x와 y 중에 하나를 의미한다.
- `[^xy]` : not을 표현하며 x및 y를 제외한 문자를 의미한다.
- `[x-z]` : range를 표현하며 x~z 사이의 문자를 의미한다.
- `\^` : Excape를 표현하며 ^를 문자로 사용함을 의미한다.
- `\b` : word boundary를 표현하며 문자와 공백사이의 문자를 의미한다.
- `\B` : non word boundary를 표현하며 문자와 공백사이가 아닌 문자를 의미한다.
- `d`: digit를 표현하며 숫자를 의미한다.
- `\D`: non digit를 표현하며 숫자가 아닌 것을 의미한다.
- `\s`: space를 표현하며 공백 문자를 의미한다.
- `\S`: non space를 표현하며 공백 문자가 아닌 것을 의미한다.
- `\t`: tab을 표현하며 탭 문자를 의미한다.
- `\v`: vertical tab을 표현하며 수직 탭 문자를 의미한다.
- `\w`: word를 표현하며 알파벳 + 숫자 _ 중의 한 문자임을 의미한다.
- `\W`: non word를 표현하며 알파벳 + 숫자 + _ 가 아닌 문자를 의미한다.

정규표현식을 사용할 때 Flag라는 것이 존재하는데 Flag를 사용하지 않으면 문자열에 대해서 검색을 한번만 처리하고 종료하게 된다. Flag는 다음과 같은 것들이 존재한다.

- `g` : global을 표현; 대상 문자열내에 모든 패턴들을 검색하는 것을 의미
- `i` : Ignore case를 표현; 대상 문자열에 대해 대/소문자를 식별하지 않는 것을 의미
- `m` : Multi line을 표현; 대상 문자열이 다중 라인의 문자열인 경우에도 검색

## 예제

단어 - /filter/g   
이메일 - /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i

## 테스트 사이트

https://regexr.com/

## 출처
https://hamait.tistory.com/342   
https://namu.wiki/w/%EC%A0%95%EA%B7%9C%20%ED%91%9C%ED%98%84%EC%8B%9D