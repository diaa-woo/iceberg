# Translation

<p> 실제 명칭은 컴퓨터 언어 번역기지만 편의상 번역기라고 부른다.

## 정의
<p>번역기의 정의는 이러하다.</p>

>고급 언어로 쓰여진 프로그램을 어떤 특정한 컴퓨터에서 직접 실행 가능한 형태(기계어)의 프로그램으로 번역해주는 컴퓨터 프로그램


## 역사

### 개발 언어의 등장

<p>누구나 다 알다시피 컴퓨터는 오로지 0과 1로만 소통을 한다. 컴퓨터는 이런 이진수들의 나열로 소통을 하고, 또 동작한다. 우리는 이를 <b>기계어</b>라고 부르는데, 당연하게도 이를 사람들이 쉽게 이해할 수가 없다(심지어 기계어의 길이도 장난 아니다.) </p>

<p>공학자들은 컴퓨터와 소통하는데 조금이라도 편하게 하기 위해 형식 언어(Formal Language), </<b>어셈블리어(Assembly Language)</b>를 만든다.</p>

<p>하지만 이 어셈블리어도 여전히 사용하기에는 불편한 점이 많았고, 개발하기에 힘든 점도 존재하였다. 그래서 공학자들은 또다른 여러 형식 언어를 만들어 낸다.</p>

### 발전

<p>어셈블리어가 나온 이후로 점점 인간의 가독성을 높이기 위한 언어가 출시되기 시작했는데, 그중에서도 가장 대표적인 언어는 바로 C였다. C는 이전까지의 나온 언어들 보다 가독성이 뛰어났고, 성능이 좋았으며, 활용성이 뛰어났다. 후에는 이 C를 기반으로 운영체제(Unix), 개발 언어(Java. C++ 등등) 등 다양한 것들이 파생되기 시작했다.</p>

### 저급 언어와 고급 언어

<p>현재 시점으로 돌아와서, 지금까지 나와있는 언어들을 우리는 두가지의 형태로 분리할 수 있다. 바로 <b>저급 언어(Low-Level Language)</b>와 <b>고급 언어(High-Level Language)</b>이다. 저급 언어의 종류로는 대표적으로 기계어(machine language)와 어셈블리어(Assembler)가 있고 고급 언어의 종류로는 C(얘는 가끔 저급 언어에 속하기도 하며, 중급언어(Middle-Level Language)라고도 불리기도 한다.), JAVA, Python 등이 존재한다.</p>

<p>이 둘의 가장 큰 차이점으로는, 바로 가독성이다. 아래 코드들은 'Hello, World!'를 출력해주는 코드이다.</p>
<p></p>
<p>저급 언어부터 살펴보자</p>

```machine language
b8 21 0a 00 00
a3 0c 10 00 06
b8 6f 72 6c 64
a3 08 10 00 06
b8 6f 2c 20 57
a3 04 10 00 06
b8 48 65 6c 6c
a3 00 10 00 06
b9 00 10 00 06
ba 10 00 00 00
bb 01 00 00 00
b8 04 00 00 00
cd 80
b8 01 00 00 00
cd 80
```

<p>기계어로 짠 코드이다.... 두번 볼 필요도 없이 난잡하다. 이 코드도 사실 16진수로 변환시킨거지, 실제로는 정말 0과 1로만 동작한다. (실제로 윈도우에서 가동시키려면 몇 가지 작업이 필요하다. 그러니까 삽질 ㄴㄴ)</p>

```assembly
CHARO 0x0007, d
CHARO 0x0008, d
STOP
 .ASCII "Hello, World!"
 .END
```

<p>다음은 어셈블리어로 짠 코드이다. 생각외로 기계어에서 상당히 보기 좋아졌다. 그래도 여전히 무언갈 실행시켜 주려면 하나하나 코드를 작성해주어야 했고, 영어를 잘 한다면 대충 뭔 코드인진 이해는 되지만, 이게 길어지면 가독성이 매우 떨어질 것이다.</p>

```C
#include <stdio.h>

int main() {
    printf("Hello, World!");
    return 0;
}
```

<p>다음은 고급 언어(사실상 중급언어)로 C언어의 코드이다. 위에 어셈블리어보다 더 보기 좋아졌고, 이제는 각 코드가 어떻게 동작하는지 훨씬 이해하기 편해졌다. 특히나 발전에 발전을 거듭하여 초창기보다도 훨씬 기능이 많아지고, 개발자들이 코드를 작성하기 매우 편해졌다.</p>

```Python
print('Hello, World!')
```

<p>다음은 파이썬.... 앞에 코드들이 무색해질 정도로 매우 짧다. 사실상 파이썬의 기본 라이브러리에 포함된 문법들은 일반인이 봐도 거의 알아볼 정도. C언어에서 몇십줄, 혹은 어셈블리어에서 몇백줄 쓸 거를 단 몇줄 만에 끝내버리는 경우도 있다. 그만큼 고급 언어는 개발자의 가독성 및 코드 작성 시간을 정말 많이 단축해준다.</p>

### 그래서 번역기란?

<p>이처럼 우리가 문제를 효과적으로 해결하기 위해 컴퓨터와 의사소통을 하려면 위에서 얘기한 고급 언어가 필요하다. 하지만 그건 우리 입장이고, 저 고급 언어는 <b>컴퓨터가 이해하지 못한다!</b> 컴퓨터한테 순수한 고급 언어를 들이대는 것은 마치 유치원생한테 미적분 문제를 들이대고 풀라는 정도이다. 그렇기에 우리는, 컴퓨터가 쉽게 이해해줄 수 있도록 고급 언어를 저급 언어로, 기계어, 혹은 어셈블리어로 바꾸어줘야 한다.</p>

<p>그렇게해서 고급 언어를 저급 언어로 바꿔줄 수 있는 프로그램, 번역기(Translation)가 생겨나게 된 것이다!</p>

## 번역기의 종류

<p> 컴퓨터에서의 번역기는 여러 종류를 가지고 있다. 그중에서 가장 대표적인 것이 컴파일러이고, 그 외의 종류로는 어셈블러(Assembler), 인터프리터(Interpretor), 전처리기(Preprocessor)이 있다. 전부 하나씩 살펴보자</p> 

### 1. 컴파일러(Compiler)

<p> 번역기 중 가장 대표적이자, 보편적인 번역기 중 하나이다. 코드 전체를 일련의 과정을 거쳐 기계어 혹은 어셈블리어로 변환시켜준다. 자세한 과정은 후에 나온다.</p>

### 2. 인터프리터(Interpreter)

<p> 최근에 점점 늘어나고 있는 번역기이다. 프로그램을 직접 실행시키고 줄 단위로 번역한다. 기계어로 번역된 파일을 생성하지 않고 바로 실행으로 넘어가며, 특징으로는 번역 속도가 빠르지만 실행 속도가 느리다. 이또한 후에 자세히 다룰 것이다. </p>

### 3. 전처리기(Preprocessor)

<p> 전처리기는 입출력이 전부 고급 언어이며, 프로그래밍 언어에 유용한 기능들을 추가시켜주는 용도이다. 라이브러리를 포함하거나, C언어의 경우 #include <> 명령어를 넣은 경우가 이에 해당된다. </p>

<p>ex)</p>
<p></p>
<p><b>C</b></p>

```C
#include <stdio.h>  //stdio라는 이름의 헤더 파일을 불러와서 이 소스 위에 붙여넣어준다.

int main() {...}
```

<p><b>Python</b></p>

```Python
import sys  #sys라는 라이브러리를 참조해준다.

...
```

### 4. 어셈블러

<p>어셈블리어를 기계어로 변환시켜준다. 변역 속도로는 앞에 번역기들 중에서 가장 빠르다. 경우에 따라서 컴파일러의 한 종류로도 치기도 한다.</p>

### 5. 크로스 컴파일러

<p> 추가로, 크로스 컴파일러라는 번역기가 하나 더 존재한다. 이 번역기는 컴파일러가 실행되는 플랫폼이 아닌 다른 플랫폼에서 실행 가능한 코드를 생성할 수 있는 컴파일러다. 이 툴은 플랫폼의 종류가 많은 임베디드 시스템이나 여러 플랫폼에서 실행파일을 생성하는 데 사용된다. 이 컴파일러는 운영체제를 지원하지 않는 마이크로컨트롤러에서 주로 사용된다.(Microchip Studio나 Linux에서 사용되는 경우가 많음)</p>


## 컴파일러
<p> 가장 대표적인 번역기인 컴파일러는, 코드 전체를 기계어 또는 어셈블리어로 번역해주는 번역기이다. </p>

### 컴파일러의 구조
<p> 컴파일러는 입력과 출력이 있는 프로그램이고, 이를 논리적인 구조에 따라 전단부와 후단부로 구분된다. 전단부는 입력받은 소스 프로그램을 후단부가 이해할 수 있는 코드로 번역하는 역할이고, 후단부는 해당 코드를 입력받아 동작시킬 기계에서 적합한 코드로 번역을 하는 담당이다. 즉 전단부는 언어에 의존적이고, 후단부는 기계에 의존적이다. 이 때문에 전단부는 후단부가 이해할 수 있는 별도의 코드를 결과물로 출력하는데, 이를 <b>중간 코드(Intermediate Code)</b>라고 한다.</p>

<p> 다음은 컴파일러의 분석 순서이다.</p>

<ol>
    <li>어휘 분석</li>
    <li>구문 분석</li>
    <li>중간 코드 생성</li>
    <li>코드 최적화</li>
    <li>목적 코드 생성</li>
</ol>

### 어휘 분석

<p> 전단부의 첫 번째 단계인 <b>어휘 분석기(Lexical Analyzer)</b>는 <b>스캐너(Scanner)</b>라고도 불리며, 입력으로 들어오는 소스 프로그램을 읽어서 일련의 <b>토큰(Token)을 생성하는 프로그램</b>이다. 토큰은 프로그래밍 언어에서 문법적으로 의미를 갖는 최소한의 단위를 의미한다. 예를 들어, if (a && b) 같은 코드를 [if, (, a, &&, b) ] 처럼 의미가 있는 단위로 잘게 쪼갠다. 만약 언어 자체에서 인식할 수 없는 토큰(ex: $)이 오게 된다면, 스캐너는 에러를 뱉게 된다.(보통 여기서 많이 튕긴다 ㅋㅋ)</p>

<p> 입력: 일반 코드, 출력: 많은 토큰(Token)들</p>

### 구문 분석

<p> 전단부의 두 번째 단계인 <b>구문 분석기(Syntax Analyzer)</b>는 <b>파서(Parser)</b>라고도 불리며, 스캐너에서 출력된 토큰을 입력받아 코드의 구조를 나타내는 트리를 생성하는 프로그램. 나타낼 수 있는 트리의 종류에는 파스 트리(Parse Tree)와 추상 구문 트리(Abstract Syntax Tree)가 있다.</p>

<p>파스 트리와 추상 구문 트리</p>

## 출처
https://wormwlrm.github.io/2021/04/18/Formal-Language-and-Compiler.html